(function(t){function e(e){for(var r,o,c=e[0],s=e[1],l=e[2],u=0,f=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2453:function(t,e,n){},"38ff":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),i=(n("d3b7"),n("96cf"),n("8c4f")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"body"}},[n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"warning"},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.apiErrorMsg)+" ")]),n("h1",[t._v("IPFC Login")]),n("b-form",{attrs:{id:"form-signin"},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("label",{attrs:{for:"feedback-email"}},[t._v("Email")]),n("b-input",{attrs:{state:t.emailValidation,id:"feedback-email"},model:{value:t.input.email,callback:function(e){t.$set(t.input,"email",e)},expression:"input.email"}}),t.input.email?n("b-form-invalid-feedback",{attrs:{state:t.emailValidation}},[t._v(t._s(t.emailValidationErrorMsg))]):t._e(),n("label",{attrs:{for:"feedback-password"}},[t._v("Password")]),n("b-input",{attrs:{state:t.passwordValidation,type:"password",id:"feedback-password"},model:{value:t.input.password,callback:function(e){t.$set(t.input,"password",e)},expression:"input.password"}}),t.input.password?n("b-form-invalid-feedback",{attrs:{state:t.passwordValidation}},[t._v(t._s(t.passwordValidationErrorMsg))]):t._e(),t.signingUp?n("b-button",{attrs:{id:"button-get-pinata",type:"submit",variant:"primary"},on:{click:function(e){return t.OpenPinata()}}},[t._v("Get Pinata")]):t._e(),n("br"),t.signingUp?n("label",{attrs:{for:"feedback-pinata-api"}},[t._v("Pinata API key")]):t._e(),t.signingUp?n("b-input",{attrs:{state:t.pinataApiValidation,id:"feedback-pinata-api"},model:{value:t.input.pinataApi,callback:function(e){t.$set(t.input,"pinataApi",e)},expression:"input.pinataApi"}}):t._e(),t.signingUp?n("b-form-invalid-feedback",{attrs:{state:t.pinataApiValidation}},[t._v(t._s(t.pinataApiValidationErrorMsg))]):t._e(),t.signingUp?n("label",{attrs:{for:"feedback-pinata-secret"}},[t._v("Pinata secret API key")]):t._e(),t.signingUp?n("b-input",{attrs:{state:t.pinataSecretValidation,type:"password",id:"feedback-pinata-secret"},model:{value:t.input.pinataSecret,callback:function(e){t.$set(t.input,"pinataSecret",e)},expression:"input.pinataSecret"}}):t._e(),t.signingUp?n("b-form-invalid-feedback",{attrs:{state:t.pinataSecretValidation}},[t._v(t._s(t.pinataSecretValidationErrorMsg))]):t._e(),n("span",{attrs:{id:"login-signup-buttons"}},[t.signingUp?n("b-button",{attrs:{disabled:t.loginButtonDisable,type:"submit",variant:"primary"},on:{click:function(e){return t.SignUp()}}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.loggingIn,expression:"loggingIn"}],attrs:{icon:"spinner",spin:""}}),t._v(" Sign up")],1):n("b-button",{attrs:{disabled:t.loginButtonDisable,type:"submit",variant:"primary"},on:{click:function(e){return t.login()}}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.loggingIn,expression:"loggingIn"}],attrs:{icon:"spinner",spin:""}}),t._v(" Log in")],1),t.signingUp?n("b-button",{attrs:{disabled:t.loginButtonDisable,type:"submit",id:"sign-up-a",variant:"secondary"},on:{click:function(e){return t.toggleSigningUp()}}},[t._v("Log in")]):n("b-button",{attrs:{disabled:t.loginButtonDisable,type:"submit",id:"sign-up-a",variant:"secondary"},on:{click:function(e){return t.toggleSigningUp()}}},[t._v("Sign up")])],1)],1)],1)},o=[],c=(n("a4d3"),n("4de4"),n("4160"),n("caad"),n("e439"),n("dbb4"),n("b64b"),n("2532"),n("159b"),n("ade3")),s=n("2f62");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"Login",data:function(){return{input:{email:"",password:"",pinataApi:"",pinataSecret:""},apiErrorMsg:"",failedLogin:!1,dismissSecs:5,dismissCountDown:0,loggingIn:!1,signingUp:!1}},computed:d({},Object(s["b"])({serverURL:"serverURL"}),{emailValidation:function(){var t=this.input.email;return!(t.length<4||t.length>25)&&!(!t.includes("@")||!t.includes("."))},emailValidationErrorMsg:function(){var t=this.input.email;return t.length<4||t.length>25?"Email must be 5-25 characters long":t.includes("@")&&t.includes(".")?null:"Invalid email"},passwordValidation:function(){var t=this.input.password;return!(t.length<8||t.length>20)},passwordValidationErrorMsg:function(){var t=this.input.password;return t.length<8||t.length>20?"Password must be 8-20 characters long":null},pinataApiValidation:function(){var t=this.input.pinataApi;return!(t.length<20||t.length>20)},pinataApiValidationErrorMsg:function(){var t=this.input.pinataApi;return t.length<20||t.length>20?"Invalid pinata api key. In pinata, click the profile icon, then 'account'":null},pinataSecretValidation:function(){var t=this.input.pinataSecret;return!(t.length<64||t.password>64)},pinataSecretValidationErrorMsg:function(){var t=this.input.pinataSecret;return t.length<64||t.length>64?"Invalid pinata api secret key. In pinata, click the profile icon, then 'account'":null},invalidSignUp:function(){return!(this.emailValidation&&this.passwordValidation&&this.pinataApiValidation&&this.pinataSecretValidation)},invalidLogin:function(){return!this.emailValidation||!this.passwordValidation},loginButtonDisable:function(){return!(this.emailValidation&&this.passwordValidation&&!this.loggingIn)}}),watch:{failedLogin:function(){!0===this.failedLogin&&this.showAlert()}},methods:{login:function(){var t=this;this.loggingIn=!0,this.failedLogin=!1;var e=this.serverURL+"/login",n=new Headers,r=this.input.email,i=this.input.password;n.append("Content-Type","application/json"),n.append("Authorization","Basic "+btoa(r+":"+i)),fetch(e,{headers:n}).then((function(t){return t.json()})).then((function(e){e["token"]?(t.$store.commit("updateJwt",e["token"]),t.$store.dispatch("checkJwt"),t.$store.commit("updateUserCollection",e["user_collection"]),t.$store.commit("updateDecksMeta",e["decks_meta"]),t.$store.commit("updateDecks",e["decks"]),t.$store.dispatch("refreshLastSyncsData"),t.$router.push("home")):(t.failedLogin=!0,t.apiErrorMsg=e["error"]),t.loggingIn=!1})).catch((function(){this.failedLogin=!0,this.apiErrorMsg="Server error"}))},SignUp:function(){var t=this;this.loggingIn=!0,this.failedLogin=!1;var e=this.serverURL+"/sign_up",n={email:this.input.email,password:this.input.password,pinata_api:this.input.pinataApi,pinata_key:this.input.pinataSecret};fetch(e,{headers:{"Content-Type":"application/json"},body:JSON.stringify(n),method:"POST"}).then((function(t){return t.json()})).then((function(e){e["message"]?t.login():(t.failedLogin=!0,t.apiErrorMsg=e["error"]),t.loggingIn=!1})).catch((function(){this.failedLogin=!0,this.apiErrorMsg="Server error"}))},toggleSigningUp:function(){this.signingUp=!this.signingUp},changeErrorMsg:function(t){this.emailValidationErrorMsg=t},OpenPinata:function(){window.open("https://pinata.cloud/signup","_blank")},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},f=u,p=(n("ed1a"),n("2877")),g=Object(p["a"])(f,a,o,!1,null,"2b58c722",null),b=g.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{id:"review-body"}},[n("b-row",{staticClass:"justify-content-end",attrs:{id:"top-buttons-row"}},[n("a",{staticClass:"edit"},[n("font-awesome-icon",{attrs:{size:"1x",icon:"edit"},on:{click:function(e){return t.editCard(t.currentCard,t.reviewDeck)}}})],1)]),n("b-row",{attrs:{id:"card-row"},on:{click:function(e){return t.flipCard()}}},[n("b-col",{staticClass:"card-col"},[n("vue-flashcard",{attrs:{id:"main-card",isToggle:t.cardFlipToggle,front:t.currentCard.front_text,back:t.currentCard.back_text,imgFront:t.currentCard.front_image,imgBack:t.currentCard.back_image}}),n("div",{attrs:{id:"next-card-padding-outer"}},[n("div",{attrs:{id:"next-card-padding"}},[n("vue-flashcard",{attrs:{id:"next-card",front:t.nextCard.front_text,back:t.nextCard.back_text,imgFront:t.nextCard.front_image,imgBack:t.nextCard.back_image}})],1)]),n("div",{attrs:{id:"third-card-padding-outer"}},[n("div",{attrs:{id:"third-card-padding"}},[n("vue-flashcard",{staticClass:"card",attrs:{id:"third-card",front:"   stuff   ",back:"     stuff   ",imgFront:t.nextCard.front_image,imgBack:t.nextCard.back_image}})],1)])],1)],1),n("b-row",{attrs:{id:"buttons-row"}},[n("b-col",[!0===t.cardFlipToggle?n("b-button",{staticClass:"btn-circle btn-xl",on:{click:function(e){return t.incorrect()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"times"}})],1):t._e()],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-xl",on:{click:function(e){return t.flipCard()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"sync"}})],1)],1),n("b-col",[!0===t.cardFlipToggle?n("b-button",{staticClass:"btn-circle btn-xl",on:{click:function(e){return t.correct()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"check"}})],1):t._e()],1)],1)],1)},m=[],v=(n("c975"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isToggle,expression:"!isToggle"}],staticClass:"animated flipInY flashcard",style:{backgroundColor:t.colorFront,color:t.colorTextFront}},[n("div",{staticClass:"card-content"},[n("p",{style:{fontSize:t.textSizeFront,fontWeight:"bold"}},[t._v(t._s(t.front))]),""!=t.imgFront?n("img",{staticClass:"img",attrs:{src:t.imgFront}}):t._e()])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isToggle,expression:"isToggle"}],staticClass:"animated flipInY flashcard",style:{backgroundColor:t.colorBack,color:t.colorTextBack}},[n("div",{staticClass:"card-content"},[n("p",{style:{fontSize:t.textSizeBack,fontWeight:"bold"}},[t._v(t._s(t.back))]),""!=t.imgBack?n("img",{staticClass:"img",attrs:{src:t.imgBack}}):t._e()])])])}),k=[],y={data:function(){return{}},computed:{textSizeFront:function(){return this.front.length<20?"4em":this.front.length<50?"3em":this.front.length<250?"2em":this.front.length<350?"1.5em":"1em"},textSizeBack:function(){return this.back.length<20?"4em":this.back.length<50?"3em":this.back.length<250?"2em":this.back.length<350?"1.5em":"1em"}},props:{imgFront:{type:String,default:""},imgBack:{type:String,default:""},front:{type:String,default:""},back:{type:String,default:""},colorTextFront:{type:String,default:"black"},colorTextBack:{type:String,default:"black"},colorFront:{type:String,default:"white"},colorBack:{type:String,default:"white"},isToggle:{type:Boolean}}},w=y,_=(n("86f8"),Object(p["a"])(w,v,k,!1,null,"f399fc9a",null)),O=_.exports;function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j={name:"home",data:function(){return{currentCardIndex:0,cardFlipToggle:!1,cardsCompleted:0,cardsTotal:0}},computed:D({},Object(s["b"])({reviewDeck:"reviewDeck"}),{currentCard:function(){return this.reviewDeck.cards[this.currentCardIndex]},nextCard:function(){return this.reviewDeck.cards[this.currentCardIndex+1]}}),methods:{flipCard:function(){this.cardFlipToggle=!this.cardFlipToggle},incorrect:function(){this.currentCardIndex++,this.cardFlipToggle=!1,this.NavbarProgess()},correct:function(){this.currentCardIndex++,this.cardFlipToggle=!1,this.cardsCompleted++,this.NavbarProgess()},NavbarProgess:function(){this.$store.dispatch("navProgress",this.cardsCompleted)},editCard:function(t,e){this.$store.commit("updateCardToEditIndex",e.cards.indexOf(t)),this.$router.push("/card-editor")}},created:function(){this.$store.dispatch("updateReviewDeck"),this.$store.dispatch("navProgress",0),this.$store.dispatch("refreshLastSyncsData"),this.$store.commit("updateCurrentDeck",this.reviewDeck),this.currentCardIndex=0},components:{vueFlashcard:O}},S=j,C=(n("7184"),Object(p["a"])(S,h,m,!1,null,"7ae4e7fe",null)),P=C.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deck-selection"},[n("b-container",{attrs:{fluid:""}},[n("h3",{staticStyle:{"margin-left":"20px"}},[t._v("Deck Selection")]),n("b-list-group",t._l(t.decksMeta,(function(e){return n("b-list-group-item",{key:e.edited,attrs:{button:""},on:{click:function(n){return t.openDeck(e.deck_id)}}},[t._v(t._s(e.title))])})),1)],1)],1)},T=[];n("e01a"),n("d28b"),n("3ca3"),n("ddb0");function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var M={name:"deck-selection",data:function(){return{}},computed:I({},Object(s["b"])(["decksMeta"])),methods:{openDeck:function(t){var e,n=!0,r=!1,i=void 0;try{for(var a,o=this.$store.getters.getDecks[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)e=a.value,e.deck_id===t&&this.$store.commit("updateCurrentDeck",e)}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}this.$router.push("/deck-editor")}},created:function(){this.$store.dispatch("refreshDecksMeta")}},V=M,A=Object(p["a"])(V,E,T,!1,null,null,null),z=A.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quiz-options"})},L=[],F={data:function(){return{}}},N=F,U=Object(p["a"])(N,J,L,!1,null,null,null),B=U.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:"",id:"body"}},[n("b-row",[n("h3",{staticStyle:{"margin-left":"30px","margin-top":"10px"}},[t._v(t._s(t.deck.title))])]),n("b-row",{attrs:{"align-h":"start"}},[n("b-col",{attrs:{cols:"11"}},t._l(t.deck.cards,(function(e){return n("b-card",{key:e.card_id,attrs:{id:"card"}},[n("b-container",[n("b-row",[e.front_image?n("b-col",{attrs:{cols:"5"}},[e.front_image?n("b-img-lazy",{attrs:{src:e.front_image}}):t._e()],1):t._e(),n("b-col",[n("b-card-text",{staticClass:"font-weight-bold"},[t._v(t._s(e.front_text))])],1),n("b-col",{attrs:{cols:"1"}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1)],1),n("hr",{staticClass:"divider"}),n("b-row",[e.back_image?n("b-col",[n("b-img-lazy",{attrs:{src:e.back_image}})],1):t._e(),n("b-col",[n("b-card-text",[t._v(" "+t._s(e.back_text)+" ")])],1)],1)],1)],1)})),1)],1)],1)},q=[];function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var G={name:"deck-editor",data:function(){return{}},computed:Y({},Object(s["b"])({deck:"currentDeck"}))},H=G,K=(n("8e0f"),Object(p["a"])(H,R,q,!1,null,"929bf788",null)),Q=K.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-list-group",[n("b-list-group-item",{attrs:{id:"logout",button:""},on:{click:function(e){return t.logout()}}},[t._v(" Logout ")])],1)],1)},Z=[],tt={methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}}},et=tt,nt=Object(p["a"])(et,X,Z,!1,null,null,null),rt=nt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:"",id:"body"}},[n("b-row",{attrs:{id:"main-row"}},[n("b-col",{attrs:{id:"main-col"}},[n("b-container",{staticClass:"card"},[n("b-row",{staticClass:"card-row"},[t.card.front_image?n("b-col",[t.card.front_image?n("b-img-lazy",{staticClass:"img",attrs:{src:t.card.front_image}}):t._e()],1):t._e(),n("b-col",[n("b-form-textarea",{staticClass:"card-text-input",attrs:{id:"front-text-input"},model:{value:t.card.front_text,callback:function(e){t.$set(t.card,"front_text",e)},expression:"card.front_text"}})],1)],1)],1),n("br"),n("b-container",{staticClass:"card"},[n("b-form-textarea",{staticClass:"card-text-input",attrs:{id:"back-text-input"},model:{value:t.card.back_text,callback:function(e){t.$set(t.card,"back_text",e)},expression:"card.back_text"}}),t.card.back_image?n("b-img-lazy",{staticClass:"img",attrs:{src:t.card.back_image}}):t._e()],1),n("br"),n("b-container",{staticClass:"tag-chooser"},[n("p",{staticClass:"d-inline-block tags-label"},[t._v("Deck: "),n("b-button",{staticClass:"add-btn"},[t.addingDeck?t._e():n("font-awesome-icon",{staticClass:"d-inline add-icon",attrs:{color:"white",size:"1x",icon:"plus-circle"},on:{click:function(e){return t.toggleAddingDeck()}}}),t.addingDeck?n("font-awesome-icon",{staticClass:"d-inline add-icon",attrs:{color:"white",size:"1x",icon:"plus-circle"},on:{click:function(e){return t.addDeck()}}}):t._e(),t.addingDeck?n("b-form-input",{staticClass:"d-inline tag-input"}):t._e()],1)],1),t._l(t.includedDecks,(function(e){return n("b-button",{key:e.edited,staticClass:"tag-style-button green-btn d-inline-block",on:{click:function(n){return t.removeCardFromDeck(e.title)}}},[t._v(" "+t._s(e.title.slice(0,24))+" ")])})),n("br"),t._l(t.unincludedDecks,(function(e){return n("b-button",{key:e.edited,staticClass:"tag-style-button white-btn d-inline-block",on:{click:function(n){return t.addCardToDeck(e.title)}}},[t._v(" "+t._s(e.title.slice(0,24))+" ")])}))],2),n("b-container",{staticClass:"tag-chooser",attrs:{id:"tags-bottom"}},[n("p",{staticClass:"d-inline tags-label"},[t._v("Tags: "),n("b-button",{staticClass:"add-btn"},[t.addingTag?t._e():n("font-awesome-icon",{staticClass:"d-inline add-icon",attrs:{color:"white",size:"1x",icon:"plus-circle"},on:{click:function(e){return t.toggleAddingTag()}}}),t.addingTag?n("font-awesome-icon",{staticClass:"d-inline add-icon",attrs:{color:"white",size:"1x",icon:"plus-circle"},on:{click:function(e){return t.addTag()}}}):t._e(),t.addingTag?n("b-form-input",{staticClass:"d-inline tag-input"}):t._e()],1)],1),t._l(t.card.card_tags,(function(e){return n("b-button",{key:e,staticClass:"tag-style-button green-btn d-inline"},[t._v(" "+t._s(e.slice(0,24))+" ")])})),n("br"),t._l(t.unincludedTags,(function(e){return n("b-button",{key:e,staticClass:"tag-style-button white-btn d-inline"},[t._v(" "+t._s(e.slice(0,24))+" ")])}))],2)],1)],1),n("b-row",{attrs:{id:"buttons-row"}},[n("b-col",{attrs:{id:"buttons-col"}},[n("b-container",{attrs:{id:"buttons-inner"}},[n("b-row",[n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.noDeckSelected},on:{click:function(e){return t.deleteCard()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"trash-alt"}})],1)],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.leftNavDisabled},on:{click:function(e){return t.previousCard()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"step-backward"}})],1)],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.noDeckSelected},on:{click:function(e){return t.undo()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"undo"}})],1)],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.rightNavDisabled},on:{click:function(e){return t.nextCard()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"step-forward"}})],1)],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.noDeckSelected},on:{click:function(e){return t.doneCheck()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"check"}})],1)],1)],1)],1)],1)],1)],1)},at=[],ot=(n("fb6a"),n("0d03"),n("2ef0")),ct=n.n(ot);function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var dt={name:"card-editor",data:function(){return{initialDeckState:null,addingDeck:!1,addingTag:!1}},computed:lt({},Object(s["b"])({cardToEditIndex:"cardToEditIndex",decksMeta:"decksMeta",decks:"decks",currentDeck:"currentDeck",jwt:"jwt"}),{card:function(){return this.currentDeck.cards[this.cardIndex]},cardIndex:function(){return this.cardToEditIndex},includedDecks:function(){var t=this.card;return this.decks.filter((function(e){if(void 0!=e)return e.cards.indexOf(t)>-1}))},unincludedDecks:function(){var t=this.card;return this.decks.filter((function(e){return!e.cards.includes(t)}))},unincludedTags:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,a=this.decks[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value,c=!0,s=!1,l=void 0;try{for(var d,u=o.cards[Symbol.iterator]();!(c=(d=u.next()).done);c=!0){var f=d.value,p=!0,g=!1,b=void 0;try{for(var h,m=f.card_tags[Symbol.iterator]();!(p=(h=m.next()).done);p=!0){var v=h.value;t.includes(v)||t.push(v)}}catch(O){g=!0,b=O}finally{try{p||null==m.return||m.return()}finally{if(g)throw b}}}}catch(O){s=!0,l=O}finally{try{c||null==u.return||u.return()}finally{if(s)throw l}}}}catch(O){n=!0,r=O}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}for(var k=[],y=0,w=t;y<w.length;y++){var _=w[y];this.card.card_tags.includes(_)||k.push(_)}return k},leftNavDisabled:function(){return 0===this.cardToEditIndex||!0===this.noDeckSelected},rightNavDisabled:function(){return this.cardToEditIndex===this.currentDeck.cards.length-1||!0===this.noDeckSelected},noDeckSelected:function(){return this.includedDecks.length<1}}),methods:{deleteCard:function(){var t=this,e=this.unincludedDecks,n=!0,r=!1,i=void 0;try{for(var a,o=function(){var n=a.value,r=t.card,i=n.cards.filter((function(t){return t.card_id!=r.card_id}));n.cards=i,n.edited=Math.round((new Date).getTime()/1e3),e.push(n)},c=this.includedDecks[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)o()}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}this.$store.commit("updateDecks",e),this.$store.dispatch("refreshDecksMeta"),this.$router.go(-1)},previousCard:function(){var t=this.card,e=!0,n=!1,r=void 0;try{for(var i,a=this.initialDeckState.cards[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;t.card_id===o.card_id&&(ct.a.isEqual(o,t)||this.submit())}}catch(c){n=!0,r=c}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}this.$store.commit("updateCardToEditIndex",this.cardToEditIndex-1)},undo:function(){return null},nextCard:function(){var t=this.card,e=!0,n=!1,r=void 0;try{for(var i,a=this.initialDeckState.cards[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;t.card_id===o.card_id&&(ct.a.isEqual(o,t)||this.submit())}}catch(c){n=!0,r=c}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}this.$store.commit("updateCardToEditIndex",this.cardToEditIndex+1)},doneCheck:function(){this.submit(),this.$router.go(-1)},submit:function(){var t=this,e=this.unincludedDecks.slice(0),n=!0,r=!1,i=void 0;try{for(var a,o=function(){var n=a.value,r=t.card,i=n.cards.filter((function(t){return t.card_id!=r.card_id}));i.push(r),n.cards=i,n.edited=Math.round((new Date).getTime()/1e3),e.push(n)},c=this.includedDecks[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)o()}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}this.$store.commit("updateDecks",e),this.$store.dispatch("refreshDecksMeta")},removeCardFromDeck:function(t){var e=this;console.log("removing from deck "+t);var n=!0,r=!1,i=void 0;try{for(var a,o=function(){var n=a.value,r=e.card;if(n.title===t){var i=n.cards.filter((function(t){return t.card_id!=r.card_id}));n.cards=i,n.edited=Math.round((new Date).getTime()/1e3),e.$store.commit("updateDeck",n),e.$store.dispatch("refreshDecksMeta")}},c=this.decks[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)o()}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}},addCardToDeck:function(t){console.log("adding to deck "+t);var e=!0,n=!1,r=void 0;try{for(var i,a=this.decks[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value,c=this.card;o.title==t&&o.cards.push(c),o.edited=Math.round((new Date).getTime()/1e3),this.$store.commit("updateDeck",o),this.$store.dispatch("refreshDecksMeta")}}catch(s){n=!0,r=s}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}},toggleAddingDeck:function(){this.addingDeck=!this.addingDeck},toggleAddingTag:function(){this.addingTag=!this.addingTag},addDeck:function(){this.toggleAddingDeck()},addTag:function(){this.toggleAddingTag()}},created:function(){this.initialDeckState=JSON.parse(JSON.stringify(this.currentDeck))}},ut=dt,ft=(n("56f5"),Object(p["a"])(ut,it,at,!1,null,"749c5d14",null)),pt=ft.exports,gt=(n("ac1f"),n("1276"),n("bfa9")),bt=n("a78e"),ht=n.n(bt);r["default"].use(s["a"]);var mt=new gt["a"]({restoreState:function(t){return ht.a.getJSON(t)},saveState:function(t,e){return ht.a.set(t,e,{expires:3})},reducer:function(t){return{jwt:t.jwt}}}),vt=new gt["a"]({key:"vuex",storage:window.localStorage,reducer:function(t){return{userCollection:t.userCollection,decksMeta:t.decksMeta,decks:t.decks,currentDeck:t.deck,reviewDeck:t.reviewDeck,lastSyncsData:t.lastSyncsData}}}),kt=new s["a"].Store({state:{jwt:null,jwtValid:!1,userCollection:null,decksMeta:null,decks:null,currentDeck:null,reviewDeck:null,cardToEditIndex:null,navProgressCounter:"",lastSyncsData:null,syncing:!1,serverURL:"https://ipfc-midware.herokuapp.com"},mutations:{updateJwt:function(t,e){t.jwt=e},deleteJwt:function(t){t.jwt=null},toggleJwtValid:function(t,e){t.jwtValid=e},toggleSyncing:function(t,e){t.syncing=e},updateUserCollection:function(t,e){t.userCollection=e},updateDecksMeta:function(t,e){t.decksMeta=e},updateDeck:function(t,e){var n=!0,r=!1,i=void 0;try{for(var a,o=t.decks[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;c.deck_id===e.deck_id&&(c=e)}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}},updateDecks:function(t,e){t.decks=e},updateCurrentDeck:function(t,e){t.currentDeck=e},updateReviewDeck:function(t,e){t.reviewDeck=e},updateProgressCounter:function(t,e){t.navProgressCounter=e},updateCardToEditIndex:function(t,e){t.cardToEditIndex=e},updateLastSyncsData:function(t,e){t.lastSyncsData=e},toggleFailedSync:function(t,e){t.failedSync=e}},actions:{navProgress:function(t,e){var n=e+" / "+t.state.reviewDeck.cards.length;t.commit("updateProgressCounter",n)},logout:function(t){t.commit("deleteJwt"),t.commit("toggleJwtValid",!1)},checkJwt:function(t){var e=t.state.jwt;if(null===e)t.commit("toggleJwtValid",!1);else if(!e||e.split(".").length<3)t.commit("toggleJwtValid",!1);else{var n=JSON.parse(atob(e.split(".")[1])),r=new Date(1e3*n.exp),i=new Date;t.commit("toggleJwtValid",i<r)}},updateReviewDeck:function(t){var e,n=t.state.decks,r={cards:[]},i=!0,a=!1,o=void 0;try{for(var c,s=n[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){e=c.value;var l=void 0,d=!0,u=!1,f=void 0;try{for(var p,g=e.cards[Symbol.iterator]();!(d=(p=g.next()).done);d=!0)l=p.value,l.card_tags.includes("Daily Review")&&r.cards.push(l)}catch(b){u=!0,f=b}finally{try{d||null==g.return||g.return()}finally{if(u)throw f}}}}catch(b){a=!0,o=b}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}t.commit("updateReviewDeck",r)},refreshDecksMeta:function(t){var e=t.state.decks,n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value,l={deck_cid:s.deck_cid,deck_id:s.deck_id,edited:s.edited,title:s.title};n.push(l)}}catch(d){i=!0,a=d}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}t.commit("updateDecksMeta",n)},refreshLastSyncsData:function(t){var e=t.state.decks,n=t.state.userCollection,r={decks:e,userCollection:n};t.commit("updateLastSyncsData",r)},sync:function(t){var e,n,r,i,a,o,c,s,l,d,u,f,p,g,b,h,m,v,k;return regeneratorRuntime.async((function(y){while(1)switch(y.prev=y.next){case 0:if(!0!==t.state.syncing){y.next=5;break}return console.log("syncing blocked"),y.abrupt("return",null);case 5:if(t.commit("toggleSyncing",!0),t.commit("toggleFailedSync",!1),e=JSON.parse(JSON.stringify(t.state.userCollection)),n=JSON.parse(JSON.stringify(t.state.lastSyncsData.userCollection)),r=JSON.parse(JSON.stringify(t.state.decks)),i=JSON.parse(JSON.stringify(t.state.lastSyncsData.decks)),a={decks:r,userCollection:e},e!=n&&console.log("user collection changed"),r==i){y.next=74;break}console.log("decks changed (but maybe just order, not content)"),o=!0,c=!1,s=void 0,y.prev=18,l=r[Symbol.iterator]();case 20:if(o=(d=l.next()).done){y.next=60;break}u=d.value,f=!0,p=!1,g=void 0,y.prev=25,b=i[Symbol.iterator]();case 27:if(f=(h=b.next()).done){y.next=43;break}if(m=h.value,!(u.deck_id===m.deck_id&&u.edited>m.edited)){y.next=40;break}return console.log("this deck changed"+u.deck_id+" edited "+u.edited),console.log("changed with this deck"+m.deck_id+" edited "+m.edited),v=t.state.serverURL+"/put_deck",k={deck_id:u.deck_id,deck:u,title:u.title,edited:u.edited},console.log("starting api call"),t.commit("updateLastSyncsData",a),y.next=38,regeneratorRuntime.awrap(fetch(v,{headers:{"Content-Type":"application/json","x-access-token":t.state.jwt},body:JSON.stringify(k),method:"PUT"}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(e){t.commit("toggleFailedSync",!0),console.log(e)})));case 38:y.next=40;break;case 40:f=!0,y.next=27;break;case 43:y.next=49;break;case 45:y.prev=45,y.t0=y["catch"](25),p=!0,g=y.t0;case 49:y.prev=49,y.prev=50,f||null==b.return||b.return();case 52:if(y.prev=52,!p){y.next=55;break}throw g;case 55:return y.finish(52);case 56:return y.finish(49);case 57:o=!0,y.next=20;break;case 60:y.next=66;break;case 62:y.prev=62,y.t1=y["catch"](18),c=!0,s=y.t1;case 66:y.prev=66,y.prev=67,o||null==l.return||l.return();case 69:if(y.prev=69,!c){y.next=72;break}throw s;case 72:return y.finish(69);case 73:return y.finish(66);case 74:t.commit("toggleSyncing",!1);case 75:case"end":return y.stop()}}),null,null,[[18,62,66,74],[25,45,49,57],[50,,52,56],[67,,69,73]])}},getters:{isAuthenticated:function(t){return t.jwtValid},getDecks:function(t){return t.decks},navProgressCounter:function(t){return t.navProgressCounter}},plugins:[mt.plugin,vt.plugin]}),yt=kt;function wt(t,e,n){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(yt.dispatch("checkJwt"));case 2:yt.getters.isAuthenticated?n():"/login"!==this.$router.path&&n("/login");case 3:case"end":return t.stop()}}),null,this)}r["default"].use(i["a"]);var _t=new i["a"]({mode:"history",routes:[{path:"/",redirect:{name:"login"}},{path:"/login",name:"login",component:b},{path:"/home",name:"home",component:P,beforeEnter:wt},{path:"/deck-selection",name:"deck-selection",component:z,beforeEnter:wt},{path:"/quiz-options",name:"quiz-options",component:B,beforeEnter:wt},{path:"/deck-editor",name:"deck-editor",component:Q,beforeEnter:wt},{path:"/settings",name:"settings",component:rt,beforeEnter:wt},{path:"/card-editor",name:"card-editor",component:pt,beforeEnter:wt}]}),Ot=n("5f5b"),xt=(n("f9e3"),n("2dd8"),n("ecee")),Dt=n("c074"),jt=n("ad3d"),St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar",{attrs:{id:"navbar"}}),n("router-view")],1)},Ct=[],Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"body"}},[r("b-navbar",{attrs:{toggleable:"xs",type:"dark",variant:"primary"}},[r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-link",{attrs:{to:"#"}},[r("font-awesome-icon",{staticStyle:{color:"white"},attrs:{icon:"search"}})],1),r("b-nav-text",{staticStyle:{color:"white"},attrs:{id:"session-counter"}},[t._v(t._s(t.navProgressCounter))]),r("b-link",{on:{click:function(e){return t.newCard()}}},[r("img",{attrs:{src:n("6200"),alt:"add"}})]),r("b-link",{staticClass:"icon",attrs:{to:"#"}},[r("font-awesome-icon",{staticStyle:{color:"white"},attrs:{icon:"cloud"}})],1),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/home"}},[t._v("Review")]),r("b-nav-item",{attrs:{to:"/Settings"}},[t._v("Settings")]),r("b-nav-item",{attrs:{to:"/deck-selection"}},[t._v("Decks")]),r("b-nav-item",{attrs:{to:"#",disabled:""}},[t._v("Lessons")]),r("b-nav-item",{attrs:{to:"#",disabled:""}},[t._v("Classes")]),r("b-nav-form",[r("b-form-input",{staticClass:"mr-sm-1",attrs:{size:"sm",placeholder:"find decks and classes"}}),r("b-button",{attrs:{size:"sm",type:"submit"}},[t._v("Search")])],1)],1)],1)],1)],1)},Et=[];function Tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var It=n("c64e"),Mt={name:"navbar",data:function(){return{}},computed:$t({navProgressCounter:function(){return this.$store.getters.navProgressCounter}},Object(s["b"])({currentDeck:"currentDeck"})),methods:{newCard:function(){var t={back_text:"",card_id:It(),card_tags:[],front_text:""};this.currentDeck.cards.push(t),this.$store.commit("updateCardToEditIndex",this.currentDeck.cards.length-1),this.$router.push("/card-editor")}}},Vt=Mt,At=Object(p["a"])(Vt,Pt,Et,!1,null,"2323b2da",null),zt=At.exports;function Jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ft={name:"App",data:function(){return{}},mounted:function(){this.redirectIfAuth()},computed:Lt({},Object(s["b"])({decks:"decks",syncing:"syncing"})),watch:{decks:function(){this.$store.dispatch("sync")},syncing:function(){!1===this.syncing&&this.$store.dispatch("sync")}},methods:{redirectIfAuth:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$store.dispatch("checkJwt"));case 2:this.$store.getters.isAuthenticated&&this.$router.push("/home");case 3:case"end":return t.stop()}}),null,this)}},components:{Navbar:zt}},Nt=Ft,Ut=(n("5c0b"),Object(p["a"])(Nt,St,Ct,!1,null,null,null)),Bt=Ut.exports;xt["c"].add(Dt["d"],Dt["h"],Dt["g"],Dt["c"],Dt["l"],Dt["k"],Dt["e"],Dt["b"],Dt["a"],Dt["j"],Dt["i"],Dt["f"]),r["default"].component("font-awesome-icon",jt["a"]),r["default"].use(Ot["a"]),r["default"].config.productionTip=!1,new r["default"]({router:_t,store:yt,render:function(t){return t(Bt)}}).$mount("#app")},"56f5":function(t,e,n){"use strict";var r=n("dc29"),i=n.n(r);i.a},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),i=n.n(r);i.a},6200:function(t,e,n){t.exports=n.p+"img/add card logo.50e189ef.svg"},7184:function(t,e,n){"use strict";var r=n("b772"),i=n.n(r);i.a},"86f8":function(t,e,n){"use strict";var r=n("38ff"),i=n.n(r);i.a},"8e0f":function(t,e,n){"use strict";var r=n("2453"),i=n.n(r);i.a},"9c0c":function(t,e,n){},a3f0:function(t,e,n){},b772:function(t,e,n){},dc29:function(t,e,n){},ed1a:function(t,e,n){"use strict";var r=n("a3f0"),i=n.n(r);i.a}});
//# sourceMappingURL=app.cc36e2a3.js.map