(function(t){function e(e){for(var r,c,o=e[0],s=e[1],d=e[2],u=0,f=[];u<o.length;u++)c=o[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},i={app:0},a=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01c6":function(t,e,n){"use strict";var r=n("f116"),i=n.n(r);i.a},"0372":function(t,e,n){},"0584":function(t,e,n){"use strict";var r=n("dc95"),i=n.n(r);i.a},"210d":function(t,e,n){},"274b":function(t,e,n){"use strict";var r=n("0372"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),i=(n("d3b7"),n("96cf"),n("8c4f")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"body"}},[n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"warning"},on:{"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.apiErrorMsg)+" ")]),n("h1",[t._v("IPFC Login")]),n("b-form",{attrs:{id:"form-signin"},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("label",{attrs:{for:"feedback-email"}},[t._v("Email")]),n("b-input",{attrs:{state:t.emailValidation,id:"feedback-email"},model:{value:t.input.email,callback:function(e){t.$set(t.input,"email",e)},expression:"input.email"}}),t.input.email?n("b-form-invalid-feedback",{attrs:{state:t.emailValidation}},[t._v(t._s(t.emailValidationErrorMsg))]):t._e(),n("label",{attrs:{for:"feedback-password"}},[t._v("Password")]),n("b-input",{attrs:{state:t.passwordValidation,type:"password",id:"feedback-password"},model:{value:t.input.password,callback:function(e){t.$set(t.input,"password",e)},expression:"input.password"}}),t.input.password?n("b-form-invalid-feedback",{attrs:{state:t.passwordValidation}},[t._v(t._s(t.passwordValidationErrorMsg))]):t._e(),t.signingUp?n("b-button",{attrs:{id:"button-get-pinata",type:"submit",variant:"primary"},on:{click:function(e){return t.OpenPinata()}}},[t._v("Get Pinata")]):t._e(),n("br"),t.signingUp?n("label",{attrs:{for:"feedback-pinata-api"}},[t._v("Pinata API key")]):t._e(),t.signingUp?n("b-input",{attrs:{state:t.pinataApiValidation,id:"feedback-pinata-api"},model:{value:t.input.pinataApi,callback:function(e){t.$set(t.input,"pinataApi",e)},expression:"input.pinataApi"}}):t._e(),t.signingUp?n("b-form-invalid-feedback",{attrs:{state:t.pinataApiValidation}},[t._v(t._s(t.pinataApiValidationErrorMsg))]):t._e(),t.signingUp?n("label",{attrs:{for:"feedback-pinata-secret"}},[t._v("Pinata secret API key")]):t._e(),t.signingUp?n("b-input",{attrs:{state:t.pinataSecretValidation,type:"password",id:"feedback-pinata-secret"},model:{value:t.input.pinataSecret,callback:function(e){t.$set(t.input,"pinataSecret",e)},expression:"input.pinataSecret"}}):t._e(),t.signingUp?n("b-form-invalid-feedback",{attrs:{state:t.pinataSecretValidation}},[t._v(t._s(t.pinataSecretValidationErrorMsg))]):t._e(),n("span",{attrs:{id:"login-signup-buttons"}},[t.signingUp?n("b-button",{attrs:{disabled:t.loginButtonDisable,type:"submit",variant:"primary"},on:{click:function(e){return t.SignUp()}}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.loggingIn,expression:"loggingIn"}],attrs:{icon:"spinner",spin:""}}),t._v(" Sign up")],1):n("b-button",{attrs:{disabled:t.loginButtonDisable,type:"submit",variant:"primary"},on:{click:function(e){return t.login()}}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.loggingIn,expression:"loggingIn"}],attrs:{icon:"spinner",spin:""}}),t._v(" Log in")],1),t.signingUp?n("b-button",{attrs:{disabled:t.loginButtonDisable,type:"submit",id:"sign-up-a",variant:"secondary"},on:{click:function(e){return t.toggleSigningUp()}}},[t._v("Log in")]):n("b-button",{attrs:{disabled:t.loginButtonDisable,type:"submit",id:"sign-up-a",variant:"secondary"},on:{click:function(e){return t.toggleSigningUp()}}},[t._v("Sign up")])],1)],1)],1)},c=[],o=(n("a4d3"),n("4de4"),n("4160"),n("caad"),n("e439"),n("dbb4"),n("b64b"),n("2532"),n("159b"),n("ade3")),s=n("2f62");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"Login",data:function(){return{input:{email:"",password:"",pinataApi:"",pinataSecret:""},apiErrorMsg:"",failedLogin:!1,dismissSecs:5,dismissCountDown:0,loggingIn:!1,signingUp:!1}},computed:l({},Object(s["b"])({serverURL:"serverURL"}),{emailValidation:function(){var t=this.input.email;return!(t.length<4||t.length>25)&&!(!t.includes("@")||!t.includes("."))},emailValidationErrorMsg:function(){var t=this.input.email;return t.length<4||t.length>25?"Email must be 5-25 characters long":t.includes("@")&&t.includes(".")?null:"Invalid email"},passwordValidation:function(){var t=this.input.password;return!(t.length<8||t.length>20)},passwordValidationErrorMsg:function(){var t=this.input.password;return t.length<8||t.length>20?"Password must be 8-20 characters long":null},pinataApiValidation:function(){var t=this.input.pinataApi;return!(t.length<20||t.length>20)},pinataApiValidationErrorMsg:function(){var t=this.input.pinataApi;return t.length<20||t.length>20?"Invalid pinata api key. In pinata, click the profile icon, then 'account'":null},pinataSecretValidation:function(){var t=this.input.pinataSecret;return!(t.length<64||t.password>64)},pinataSecretValidationErrorMsg:function(){var t=this.input.pinataSecret;return t.length<64||t.length>64?"Invalid pinata api secret key. In pinata, click the profile icon, then 'account'":null},invalidSignUp:function(){return!(this.emailValidation&&this.passwordValidation&&this.pinataApiValidation&&this.pinataSecretValidation)},invalidLogin:function(){return!this.emailValidation||!this.passwordValidation},loginButtonDisable:function(){return!(this.emailValidation&&this.passwordValidation&&!this.loggingIn)}}),watch:{failedLogin:function(){!0===this.failedLogin&&this.showAlert()}},methods:{login:function(){var t=this;this.loggingIn=!0,this.failedLogin=!1;var e=this.serverURL+"/login",n=new Headers,r=this.input.email,i=this.input.password;n.append("Content-Type","application/json"),n.append("Authorization","Basic "+btoa(r+":"+i)),fetch(e,{headers:n}).then((function(t){return t.json()})).then((function(e){e["token"]?(t.$store.commit("updateJwt",e["token"]),t.$store.dispatch("checkJwt"),t.$store.commit("updateUserCollection",e["user_collection"]),t.$store.commit("updateDecksMeta",e["decks_meta"]),t.$store.commit("updateDecks",e["decks"]),t.$store.dispatch("refreshLastSyncsData"),t.$router.push("home")):(t.failedLogin=!0,t.apiErrorMsg=e["error"]),t.loggingIn=!1})).catch((function(){this.failedLogin=!0,this.apiErrorMsg="Server error"}))},SignUp:function(){var t=this;this.loggingIn=!0,this.failedLogin=!1;var e=this.serverURL+"/sign_up",n={email:this.input.email,password:this.input.password,pinata_api:this.input.pinataApi,pinata_key:this.input.pinataSecret};fetch(e,{headers:{"Content-Type":"application/json"},body:JSON.stringify(n),method:"POST"}).then((function(t){return t.json()})).then((function(e){e["message"]?t.login():(t.failedLogin=!0,t.apiErrorMsg=e["error"]),t.loggingIn=!1})).catch((function(){this.failedLogin=!0,this.apiErrorMsg="Server error"}))},toggleSigningUp:function(){this.signingUp=!this.signingUp},changeErrorMsg:function(t){this.emailValidationErrorMsg=t},OpenPinata:function(){window.open("https://pinata.cloud/signup","_blank")},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},f=u,p=(n("ed1a"),n("2877")),g=Object(p["a"])(f,a,c,!1,null,"2b58c722",null),h=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{id:"review-body"}},[n("b-row",{staticClass:"justify-content-end",attrs:{id:"top-buttons-row"}},[n("a",{staticClass:"edit"},[n("font-awesome-icon",{attrs:{size:"1x",icon:"edit"},on:{click:function(e){return t.editCard(t.currentCard,t.reviewDeck)}}})],1)]),n("b-row",{attrs:{id:"card-row"},on:{click:function(e){return t.flipCard()}}},[n("b-col",{staticClass:"card-col"},[n("vue-flashcard",{attrs:{id:"main-card",isToggle:t.cardFlipToggle,front:t.currentCard.front_text,back:t.currentCard.back_text,imgFront:t.currentCard.front_image,imgBack:t.currentCard.back_image}}),n("div",{attrs:{id:"next-card-padding-outer"}},[n("div",{attrs:{id:"next-card-padding"}},[n("vue-flashcard",{attrs:{id:"next-card",front:t.nextCard.front_text,back:t.nextCard.back_text,imgFront:t.nextCard.front_image,imgBack:t.nextCard.back_image}})],1)]),n("div",{attrs:{id:"third-card-padding-outer"}},[n("div",{attrs:{id:"third-card-padding"}},[n("vue-flashcard",{staticClass:"card",attrs:{id:"third-card",front:"   stuff   ",back:"     stuff   ",imgFront:t.nextCard.front_image,imgBack:t.nextCard.back_image}})],1)])],1)],1),n("b-row",{attrs:{id:"buttons-row"}},[n("b-col",[!0===t.cardFlipToggle?n("b-button",{staticClass:"btn-circle btn-xl",on:{click:function(e){return t.incorrect()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"times"}})],1):t._e()],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-xl",on:{click:function(e){return t.flipCard()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"sync"}})],1)],1),n("b-col",[!0===t.cardFlipToggle?n("b-button",{staticClass:"btn-circle btn-xl",on:{click:function(e){return t.correct()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"check"}})],1):t._e()],1)],1)],1)},m=[],v=(n("e01a"),n("d28b"),n("c975"),n("0d03"),n("3ca3"),n("ddb0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isToggle,expression:"!isToggle"}],staticClass:"animated flipInY flashcard",style:{backgroundColor:t.colorFront,color:t.colorTextFront}},[n("div",{staticClass:"card-content"},[n("p",{style:{fontSize:t.textSizeFront,fontWeight:"bold"}},[t._v(t._s(t.front))]),""!=t.imgFront?n("img",{staticClass:"img",attrs:{src:t.imgFront}}):t._e()])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isToggle,expression:"isToggle"}],staticClass:"animated flipInY flashcard",style:{backgroundColor:t.colorBack,color:t.colorTextBack}},[n("div",{staticClass:"card-content"},[n("p",{style:{fontSize:t.textSizeBack,fontWeight:"bold"}},[t._v(t._s(t.back))]),""!=t.imgBack?n("img",{staticClass:"img",attrs:{src:t.imgBack}}):t._e()])])])}),k=[],w={data:function(){return{}},computed:{textSizeFront:function(){return this.front.length<20?"4em":this.front.length<50?"3em":this.front.length<250?"2em":this.front.length<350?"1.5em":"1em"},textSizeBack:function(){return this.back.length<20?"4em":this.back.length<50?"3em":this.back.length<250?"2em":this.back.length<350?"1.5em":"1em"}},props:{imgFront:{type:String,default:""},imgBack:{type:String,default:""},front:{type:String,default:""},back:{type:String,default:""},colorTextFront:{type:String,default:"black"},colorTextBack:{type:String,default:"black"},colorFront:{type:String,default:"white"},colorBack:{type:String,default:"white"},isToggle:{type:Boolean}}},y=w,_=(n("7635"),Object(p["a"])(y,v,k,!1,null,"1d7977b2",null)),D=_.exports;function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x={name:"home",data:function(){return{currentCardIndex:0,cardFlipToggle:!1,cardsCompleted:0,cardsTotal:0}},computed:O({},Object(s["b"])({reviewDeck:"reviewDeck"}),{currentCard:function(){return this.reviewDeck.cards[this.currentCardIndex]},nextCard:function(){return this.reviewDeck.cards[this.currentCardIndex+1]}}),methods:{flipCard:function(){this.cardFlipToggle=!this.cardFlipToggle},incorrect:function(){this.currentCardIndex++,this.cardFlipToggle=!1,this.NavbarProgess()},correct:function(){this.currentCardIndex++,this.cardFlipToggle=!1,this.cardsCompleted++,this.NavbarProgess()},NavbarProgess:function(){this.$store.dispatch("navProgress",this.cardsCompleted)},editCard:function(t,e){this.$store.commit("updateCardToEditIndex",e.cards.indexOf(t)),this.$router.push("/card-editor")},generateRandomHslaColor:function(){var t=20*Math.round(360*Math.random()/20),e="hsla(".concat(t,", 100%, 50%, 1)");return e},setAllDeckColors:function(){var t=this.$store.state.decks,e=!0,n=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var c=i.value;c.icon_color||(c.icon_color=this.generateRandomHslaColor(),c.edited=Math.round((new Date).getTime()/1e3),this.$store.commit("updateDeck",c))}}catch(o){n=!0,r=o}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}},created:function(){this.setAllDeckColors(),this.$store.dispatch("updateReviewDeck"),this.$store.dispatch("navProgress",0),null===this.$store.state.lastSyncsData&&this.$store.dispatch("refreshLastSyncsData"),this.$store.commit("updateCurrentDeck",this.reviewDeck),this.currentCardIndex=0,this.$store.commit("toggleNavNewCardDisabled",!1)},components:{vueFlashcard:D}},S=x,j=(n("0584"),Object(p["a"])(S,b,m,!1,null,"5c54a140",null)),T=j.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("b-list-group",t._l(t.decksMeta,(function(e){return n("b-list-group-item",{key:e.deck_id,attrs:{id:"list-group-item"}},[n("b-container",{attrs:{id:"list-group-item-container"}},[n("b-row",{attrs:{id:"list-group-item-row"}},[n("b-col",{staticClass:"align-self-center",attrs:{id:"icon-col",cols:"1"}},[n("div",{style:{backgroundColor:e.icon_color},attrs:{id:"icon"}},[n("p",{attrs:{id:"deck-abrev"}},[n("strong",[t._v(t._s(t.getTitleAbrev(e.title)))])])])]),n("b-col",{attrs:{id:"text-and-edit-col",cols:"11"}},[n("b-row",[n("b-col",{attrs:{id:"text-col"},on:{click:function(n){return t.openDeck(e.deck_id)}}},[n("p",{staticClass:"text title"},[t._v(t._s(e.title))]),n("p",{staticClass:"text card-count"},[t._v(" "+t._s(e.deck_length)+" card"+t._s(t.cardOrCards(e.deck_length))+" ")])]),n("b-col",{attrs:{id:"edit-col",cols:"1"}},[n("b-dropdown",{staticClass:"deck-options",attrs:{dropleft:"",size:"lg",left:"",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("font-awesome-icon",{staticClass:"deck-options",attrs:{color:"grey",size:"1x",icon:"ellipsis-h"}}),n("span",{staticClass:"sr-only"},[t._v("Search")])]},proxy:!0}],null,!0)},[n("b-dropdown-item-button",{on:{click:function(n){return t.deleteDeck(e.deck_id)}}},[t._v("Delete")]),n("b-dropdown-item-button",{attrs:{disabled:"",href:"#"}},[t._v("Export")])],1)],1)],1),n("b-row",[n("div",{attrs:{id:"underline"}})])],1)],1)],1)],1)})),1)],1)},$=[];n("ac1f"),n("1276");function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var M={name:"deck-selection",data:function(){return{}},computed:N({},Object(s["b"])(["decksMeta"])),methods:{openDeck:function(t){var e,n=!0,r=!1,i=void 0;try{for(var a,c=this.$store.getters.getDecks[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)e=a.value,e.deck_id===t&&this.$store.commit("updateCurrentDeck",e)}catch(o){r=!0,i=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}this.$router.push("/deck-editor")},cardOrCards:function(t){return 1===t?"":"s"},getTitleAbrev:function(t){if(""===t)return"";var e,n=t.split(" ")[0];return e=1===n.length?n[0].charAt(0)+n[0].charAt(1):n[0].charAt(0)+n[1].charAt(0),e},deleteDeck:function(t){var e=this.$store.state.decks,n=e.filter((function(e){return e.deck_id!==t}));this.$store.commit("updateDecks",n),this.$store.dispatch("refreshDecksMeta")}},created:function(){this.$store.dispatch("refreshDecksMeta"),this.$store.commit("toggleNavNewCardDisabled",!1)}},A=M,I=(n("fce9"),Object(p["a"])(A,P,$,!1,null,"7241c466",null)),V=I.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quiz-options"})},F=[],J={data:function(){return{}}},L=J,U=Object(p["a"])(L,z,F,!1,null,null,null),R=U.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{id:"main"}},[n("b-row",{attrs:{id:"main-row"}},[n("b-col",{attrs:{id:"main-col"}},[n("b-row",{attrs:{id:"title-row"}},[n("b-col",{staticClass:"align-self-center",attrs:{id:"icon-col",cols:"2"}},[n("div",{style:{backgroundColor:t.deck.icon_color},attrs:{id:"icon"}},[n("p",{attrs:{id:"deck-abrev"}},[n("strong",[t._v(t._s(t.getTitleAbrev(t.deck.title)))])])])]),n("b-col",{attrs:{id:"text-col"}},[t.editingDeckTitle?t._e():n("p",{staticClass:"text title",on:{click:function(e){return t.toggleEditDeckTitle()}}},[t._v(t._s(t.deck.title))]),t.editingDeckTitle?n("b-input",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.commitDeckTitle()}},model:{value:t.newDeckTitle,callback:function(e){t.newDeckTitle=e},expression:"newDeckTitle"}}):t._e(),n("p",{staticClass:"text card-count"},[t._v(" "+t._s(t.deck.cards.length)+" card"+t._s(t.cardOrCards(t.deck.cards.length))+" ")]),n("div",{attrs:{id:"underline"}})],1)],1),n("b-row",{attrs:{id:"cards-row"}},[n("b-col",{staticStyle:{padding:"0"},attrs:{cols:"12",id:"cards-col"}},t._l(t.deck.cards,(function(e){return n("b-card",{key:e.card_id,attrs:{id:"card"}},[n("b-container",{staticStyle:{padding:"0"}},[n("b-row",[e.front_image?n("b-col",{attrs:{cols:"5"}},[e.front_image?n("b-img-lazy",{attrs:{src:e.front_image}}):t._e()],1):t._e(),n("b-col",[n("b-card-text",{staticClass:"font-weight-bold"},[t._v(t._s(e.front_text))])],1),n("b-col",{attrs:{cols:"1"}},[n("font-awesome-icon",{staticClass:"edit",attrs:{icon:"edit"},on:{click:function(n){return t.editCard(e)}}})],1)],1),n("hr",{staticClass:"divider"}),n("b-row",[e.back_image?n("b-col",[n("b-img-lazy",{attrs:{src:e.back_image}})],1):t._e(),n("b-col",[n("b-card-text",[t._v(" "+t._s(e.back_text)+" ")])],1)],1)],1)],1)})),1)],1)],1)],1)],1)},H=[];function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Y={name:"deck-editor",data:function(){return{editingDeckTitle:!1,newDeckTitle:""}},computed:W({},Object(s["b"])({deck:"currentDeck"})),methods:{toggleEditDeckTitle:function(){this.newDeckTitle=this.deck.title,this.editingDeckTitle=!this.editingDeckTitle},commitDeckTitle:function(){this.deck.title=this.newDeckTitle,this.deck.edited=Math.round((new Date).getTime()/1e3),this.$store.commit("updateDeck",this.deck),this.$store.dispatch("refreshDecksMeta"),this.toggleEditDeckTitle()},editCard:function(t){this.$store.commit("updateCardToEditIndex",this.deck.cards.indexOf(t)),this.$router.push("/card-editor")},cardOrCards:function(t){return 1===t?"":"s"},getTitleAbrev:function(t){if(""===t)return"";var e,n=t.split(" ")[0];return e=1===n.length?n[0].charAt(0)+n[0].charAt(1):n[0].charAt(0)+n[1].charAt(0),e}},created:function(){this.$store.commit("toggleNavNewCardDisabled",!1)}},G=Y,K=(n("01c6"),Object(p["a"])(G,B,H,!1,null,"0bf703bc",null)),Q=K.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-list-group",[n("b-list-group-item",{attrs:{id:"logout",button:""},on:{click:function(e){return t.logout()}}},[t._v(" Logout ")])],1)],1)},Z=[],tt={methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}}},et=tt,nt=Object(p["a"])(et,X,Z,!1,null,null,null),rt=nt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:"",id:"body"}},[n("b-row",{attrs:{id:"main-row"}},[n("b-col",{attrs:{id:"main-col"}},[n("b-container",{staticClass:"card"},[n("b-row",{staticClass:"card-row"},[t.card.front_image?n("b-col",[t.card.front_image?n("b-img-lazy",{staticClass:"img",attrs:{src:t.card.front_image}}):t._e()],1):t._e(),n("b-col",[n("b-form-textarea",{staticClass:"card-text-input",attrs:{id:"front-text-input"},model:{value:t.card.front_text,callback:function(e){t.$set(t.card,"front_text",e)},expression:"card.front_text"}})],1)],1)],1),n("br"),n("b-container",{staticClass:"card"},[n("b-form-textarea",{staticClass:"card-text-input",attrs:{id:"back-text-input"},model:{value:t.card.back_text,callback:function(e){t.$set(t.card,"back_text",e)},expression:"card.back_text"}}),t.card.back_image?n("b-img-lazy",{staticClass:"img",attrs:{src:t.card.back_image}}):t._e()],1),n("br"),n("b-container",{staticClass:"tag-chooser"},[n("p",{staticClass:"d-inline-block tags-label"},[t._v("Deck: "),n("b-button",{staticClass:"add-btn"},[t.addingDeck?t._e():n("font-awesome-icon",{staticClass:"d-inline add-icon",attrs:{color:"white",size:"1x",icon:"plus-circle"},on:{click:function(e){return t.toggleAddingDeck()}}}),t.addingDeck?n("font-awesome-icon",{staticClass:"d-inline add-icon",attrs:{color:"white",size:"1x",icon:"plus-circle"},on:{click:function(e){return t.addNewDeck()}}}):t._e(),t.addingDeck?n("b-form-input",{staticClass:"d-inline tag-input",model:{value:t.newDeckTitle,callback:function(e){t.newDeckTitle=e},expression:"newDeckTitle"}}):t._e()],1)],1),t._l(t.includedDecks,(function(e){return n("b-button",{key:e.deck_id,staticClass:"tag-style-button green-btn d-inline-block",on:{click:function(n){return t.removeCardFromDeck(e.title)}}},[t._v(" "+t._s(e.title.slice(0,24))+" ")])})),n("br"),t._l(t.unincludedDecks,(function(e){return n("b-button",{key:e.deck_id,staticClass:"tag-style-button white-btn d-inline-block",on:{click:function(n){return t.addCardToDeck(e.title)}}},[t._v(" "+t._s(e.title.slice(0,24))+" ")])}))],2),n("b-container",{staticClass:"tag-chooser",attrs:{id:"tags-bottom"}},[n("p",{staticClass:"d-inline tags-label"},[t._v("Tags: "),n("b-button",{staticClass:"add-btn"},[t.addingTag?t._e():n("font-awesome-icon",{staticClass:"d-inline add-icon",attrs:{color:"white",size:"1x",icon:"plus-circle"},on:{click:function(e){return t.toggleAddingTag()}}}),t.addingTag?n("font-awesome-icon",{staticClass:"d-inline add-icon",attrs:{color:"white",size:"1x",icon:"plus-circle"},on:{click:function(e){return t.addNewTag()}}}):t._e(),t.addingTag?n("b-form-input",{staticClass:"d-inline tag-input",model:{value:t.newTagTitle,callback:function(e){t.newTagTitle=e},expression:"newTagTitle"}}):t._e()],1)],1),t._l(t.card.card_tags,(function(e){return n("b-button",{key:e,staticClass:"tag-style-button green-btn d-inline",on:{click:function(n){return t.removeTagFromCard(e)}}},[t._v(" "+t._s(e)+" ")])})),n("br"),t._l(t.unincludedTags,(function(e){return n("b-button",{key:e,staticClass:"tag-style-button white-btn d-inline",on:{click:function(n){return t.addTagToCard(e)}}},[t._v(" "+t._s(e)+" ")])}))],2)],1)],1),n("b-row",{attrs:{id:"buttons-row"}},[n("b-col",{attrs:{id:"buttons-col"}},[n("b-container",{attrs:{id:"buttons-inner"}},[n("b-row",[n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.noDeckSelected},on:{click:function(e){return t.deleteCard()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"trash-alt"}})],1)],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.leftNavDisabled},on:{click:function(e){return t.previousCard()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"step-backward"}})],1)],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.noDeckSelected},on:{click:function(e){return t.undo()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"undo"}})],1)],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.rightNavDisabled},on:{click:function(e){return t.nextCard()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"step-forward"}})],1)],1),n("b-col",[n("b-button",{staticClass:"btn-circle btn-md",attrs:{disabled:t.noDeckSelected},on:{click:function(e){return t.doneCheck()}}},[n("font-awesome-icon",{attrs:{size:"2x",icon:"check"}})],1)],1)],1)],1)],1)],1)],1)},at=[],ct=(n("99af"),n("a434"),n("2ef0")),ot=n.n(ct);function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var lt=n("c64e"),ut={name:"card-editor",data:function(){return{initialDeckState:null,addingDeck:!1,addingTag:!1,newDeckTitle:"",newTagTitle:""}},computed:dt({},Object(s["b"])({userCollection:"userCollection",cardToEditIndex:"cardToEditIndex",decksMeta:"decksMeta",decks:"decks",currentDeck:"currentDeck",jwt:"jwt",navNewCardClicked:"navNewCardClicked"}),{card:function(){return this.currentDeck.cards[this.cardIndex]},cardIndex:function(){return this.cardToEditIndex},includedDecks:function(){var t=this.card;return this.decks.filter((function(e){if(void 0!=e)return e.cards.indexOf(t)>-1}))},unincludedDecks:function(){var t=this.card;return this.decks.filter((function(e){return!e.cards.includes(t)}))},unincludedTags:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,a=this.decks[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var c=i.value,o=!0,s=!1,d=void 0;try{for(var l,u=c.cards[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var f=l.value,p=!0,g=!1,h=void 0;try{for(var b,m=f.card_tags[Symbol.iterator]();!(p=(b=m.next()).done);p=!0){var v=b.value;t.includes(v)||t.push(v)}}catch(D){g=!0,h=D}finally{try{p||null==m.return||m.return()}finally{if(g)throw h}}}}catch(D){s=!0,d=D}finally{try{o||null==u.return||u.return()}finally{if(s)throw d}}}}catch(D){n=!0,r=D}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}for(var k=[],w=0,y=t;w<y.length;w++){var _=y[w];this.card.card_tags.includes(_)||k.push(_)}return k},leftNavDisabled:function(){return 0===this.cardToEditIndex||!0===this.noDeckSelected},rightNavDisabled:function(){return this.cardToEditIndex===this.currentDeck.cards.length-1||!0===this.noDeckSelected},noDeckSelected:function(){return this.includedDecks.length<1},unChanged:function(){var t=this.card,e=!0;if(null!==t&&null!==this.initialDeckState){var n=!0,r=!1,i=void 0;try{for(var a,c=this.initialDeckState.cards[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var o=a.value;t.card_id===o.card_id&&(e=!!ot.a.isEqual(o,t))}}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}}return e}}),methods:{deleteCard:function(){var t=this,e=this.unincludedDecks,n=!0,r=!1,i=void 0;try{for(var a,c=function(){var n=a.value,r=t.card,i=n.cards.filter((function(t){return t.card_id!=r.card_id}));n.cards=i,n.edited=Math.round((new Date).getTime()/1e3),e.push(n)},o=this.includedDecks[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)c()}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}this.$store.commit("updateDecks",e),this.$store.dispatch("refreshDecksMeta"),this.$router.go(-1)},previousCard:function(){!1===this.unChanged&&this.submit(),this.$store.commit("updateCardToEditIndex",this.cardToEditIndex-1)},undo:function(){return null},nextCard:function(){!1===this.unChanged&&this.submit(),this.$store.commit("updateCardToEditIndex",this.cardToEditIndex+1)},doneCheck:function(){this.submit(),this.$router.go(-1)},submit:function(){var t=this,e=!0,n=!1,r=void 0;try{for(var i,a=function(){var e=i.value,n=t.card,r=e.cards.filter((function(t){return t.card_id===n.card_id})),a=e.cards.indexOf(r),c=e.cards.filter((function(t){return t.card_id!=n.card_id}));c.splice(a,0,n),e.cards=c,e.edited=Math.round((new Date).getTime()/1e3),t.$store.commit("updateDeck",e)},c=this.includedDecks[Symbol.iterator]();!(e=(i=c.next()).done);e=!0)a()}catch(o){n=!0,r=o}finally{try{e||null==c.return||c.return()}finally{if(n)throw r}}this.$store.dispatch("refreshDecksMeta")},removeCardFromDeck:function(t){var e=this,n=!0,r=!1,i=void 0;try{for(var a,c=function(){var n=a.value,r=e.card;if(n.title===t){var i=n.cards.filter((function(t){return t.card_id!=r.card_id}));n.cards=i,n.edited=Math.round((new Date).getTime()/1e3),e.$store.commit("updateDeck",n),e.$store.dispatch("refreshDecksMeta")}},o=this.decks[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)c()}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}},addCardToDeck:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=this.decks[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var c=i.value,o=this.card;c.title==t&&c.cards.push(o),c.edited=Math.round((new Date).getTime()/1e3),this.$store.commit("updateDeck",c),this.$store.dispatch("refreshDecksMeta")}}catch(s){n=!0,r=s}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}},removeTagFromCard:function(t){this.card.card_tags.splice(this.card.card_tags.indexOf(t),1),this.submit()},addTagToCard:function(t){this.card.card_tags.unshift(t),this.submit()},toggleAddingDeck:function(){this.addingDeck=!this.addingDeck},toggleAddingTag:function(){this.addingTag=!this.addingTag},addNewDeck:function(){if(""===this.newDeckTitle||" "===this.newDeckTitle)this.toggleAddingDeck();else{var t=this.decks,e={cards:[this.card],created_by:this.userCollection.user_id,deck_id:lt(),deck_tags:[],description:null,editable_by:"only_me",edited:Math.round((new Date).getTime()/1e3),has_html:!1,has_media:!1,lang_back:"en",lang_front:"en",term_count:1,title:this.newDeckTitle,visibility:"public",icon_color:this.generateRandomHslaColor()};t.unshift(e),this.$store.commit("updateDecks",t),this.toggleAddingDeck()}},generateRandomHslaColor:function(){var t=20*Math.round(360*Math.random()/20),e="hsla(".concat(t,", 100%, 50%, 1)");return e},addNewTag:function(){var t=this.unincludedTags.concat(this.card.card_tags);t.includes(this.newTagTitle)||""===this.newTagTitle||" "===this.newTagTitle?this.toggleAddingTag():(this.card.card_tags.unshift(this.newTagTitle),this.submit(),this.toggleAddingTag())}},created:function(){this.$store.commit("toggleNavNewCardDisabled",!0),this.initialDeckState=JSON.parse(JSON.stringify(this.currentDeck))},watch:{navNewCardClicked:function(){this.submit()},unChanged:function(){this.$store.commit("toggleNavNewCardDisabled",this.unChanged||this.noDeckSelected)},noDeckSelected:function(){this.$store.commit("toggleNavNewCardDisabled",this.unChanged||this.noDeckSelected)}}},ft=ut,pt=(n("274b"),Object(p["a"])(ft,it,at,!1,null,"6f3dac05",null)),gt=pt.exports,ht=n("bfa9"),bt=n("a78e"),mt=n.n(bt);r["default"].use(s["a"]);var vt=new ht["a"]({restoreState:function(t){return mt.a.getJSON(t)},saveState:function(t,e){return mt.a.set(t,e,{expires:3})},reducer:function(t){return{jwt:t.jwt}}}),kt=new ht["a"]({key:"vuex",storage:window.localStorage,reducer:function(t){return{userCollection:t.userCollection,decksMeta:t.decksMeta,decks:t.decks,currentDeck:t.deck,reviewDeck:t.reviewDeck,lastSyncsData:t.lastSyncsData}}}),wt=new s["a"].Store({state:{jwt:null,jwtValid:!1,userCollection:null,decksMeta:null,decks:null,currentDeck:null,reviewDeck:null,cardToEditIndex:null,navProgressCounter:"",lastSyncsData:null,syncing:!1,serverURL:"https://ipfc-midware.herokuapp.com",navNewCardDisabled:!1,navNewCardClicked:!1},mutations:{updateJwt:function(t,e){t.jwt=e},deleteJwt:function(t){t.jwt=null},toggleJwtValid:function(t,e){t.jwtValid=e},toggleSyncing:function(t,e){t.syncing=e},updateUserCollection:function(t,e){t.userCollection=e},updateDecksMeta:function(t,e){t.decksMeta=e},updateDeck:function(t,e){var n=!0,r=!1,i=void 0;try{for(var a,c=t.decks[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var o=a.value;o.deck_id===e.deck_id&&(o=e)}}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}},updateDecks:function(t,e){t.decks=e},updateCurrentDeck:function(t,e){t.currentDeck=e},updateReviewDeck:function(t,e){t.reviewDeck=e},updateProgressCounter:function(t,e){t.navProgressCounter=e},updateCardToEditIndex:function(t,e){t.cardToEditIndex=e},updateLastSyncsData:function(t,e){t.lastSyncsData=e},toggleFailedSync:function(t,e){t.failedSync=e},toggleNavNewCardDisabled:function(t,e){t.navNewCardDisabled=e},toggleNavNewCardClicked:function(t){t.navNewCardClicked=!t.navNewCardClicked}},actions:{navProgress:function(t,e){var n=e+" / "+t.state.reviewDeck.cards.length;t.commit("updateProgressCounter",n)},navNewCardClicked:function(t){t.commit("toggleNavNewCardClicked")},logout:function(t){t.commit("deleteJwt"),t.commit("toggleJwtValid",!1)},checkJwt:function(t){var e=t.state.jwt;if(null===e)t.commit("toggleJwtValid",!1);else if(!e||e.split(".").length<3)t.commit("toggleJwtValid",!1);else{var n=JSON.parse(atob(e.split(".")[1])),r=new Date(1e3*n.exp),i=new Date;t.commit("toggleJwtValid",i<r)}},updateReviewDeck:function(t){var e=t.state.decks,n={cards:[]},r=!0,i=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var s=c.value,d=!0,l=!1,u=void 0;try{for(var f,p=s.cards[Symbol.iterator]();!(d=(f=p.next()).done);d=!0){var g=f.value;g.card_tags.includes("Daily Review")&&!n.cards.includes(g)&&n.cards.push(g)}}catch(h){l=!0,u=h}finally{try{d||null==p.return||p.return()}finally{if(l)throw u}}}}catch(h){i=!0,a=h}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}t.commit("updateReviewDeck",n)},refreshDecksMeta:function(t){var e=t.state.decks,n=[],r=!0,i=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var s=c.value,d={deck_cid:s.deck_cid,deck_id:s.deck_id,edited:s.edited,title:s.title,deck_length:s.cards.length,icon_color:s.icon_color};n.push(d)}}catch(l){i=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}t.commit("updateDecksMeta",n)},refreshLastSyncsData:function(t){var e=t.state.decks,n=t.state.userCollection,r={decks:e,userCollection:n};t.commit("updateLastSyncsData",r)},sync:function(t){var e,n,r,i,a,c,o,s,d,l,u,f,p,g,h,b,m,v,k,w,y,_,D,C,O,x,S;return regeneratorRuntime.async((function(j){while(1)switch(j.prev=j.next){case 0:if(!0!==t.state.syncing){j.next=4;break}return j.abrupt("return",null);case 4:if(t.commit("toggleSyncing",!0),t.commit("toggleFailedSync",!1),e=JSON.parse(JSON.stringify(t.state.userCollection)),JSON.parse(JSON.stringify(t.state.lastSyncsData.userCollection)),n=JSON.parse(JSON.stringify(t.state.decks)),r=JSON.parse(JSON.stringify(t.state.lastSyncsData.decks)),i={decks:n,userCollection:e},n==r){j.next=98;break}for(a=[],c=!0,o=!1,s=void 0,j.prev=17,d=r[Symbol.iterator]();!(c=(l=d.next()).done);c=!0)u=l.value,a.push(u.deck_id);j.next=25;break;case 21:j.prev=21,j.t0=j["catch"](17),o=!0,s=j.t0;case 25:j.prev=25,j.prev=26,c||null==d.return||d.return();case 28:if(j.prev=28,!o){j.next=31;break}throw s;case 31:return j.finish(28);case 32:return j.finish(25);case 33:f=!0,p=!1,g=void 0,j.prev=36,h=n[Symbol.iterator]();case 38:if(f=(b=h.next()).done){j.next=84;break}if(m=b.value,!a.includes(m.deck_id)){j.next=76;break}v=!0,k=!1,w=void 0,j.prev=44,y=r[Symbol.iterator]();case 46:if(v=(_=y.next()).done){j.next=60;break}if(D=_.value,!(m.deck_id===D.deck_id&&m.edited>D.edited)){j.next=56;break}return C=t.state.serverURL+"/put_deck",O={deck_id:m.deck_id,deck:m,title:m.title,edited:m.edited},t.commit("updateLastSyncsData",i),j.next=54,regeneratorRuntime.awrap(fetch(C,{headers:{"Content-Type":"application/json","x-access-token":t.state.jwt},body:JSON.stringify(O),method:"PUT"}).then((function(t){return t.json()})).then((function(t){t.message})).catch((function(){t.commit("toggleFailedSync",!0)})));case 54:j.next=57;break;case 56:m.deck_id,D.deck_id;case 57:v=!0,j.next=46;break;case 60:j.next=66;break;case 62:j.prev=62,j.t1=j["catch"](44),k=!0,w=j.t1;case 66:j.prev=66,j.prev=67,v||null==y.return||y.return();case 69:if(j.prev=69,!k){j.next=72;break}throw w;case 72:return j.finish(69);case 73:return j.finish(66);case 74:j.next=81;break;case 76:return x=t.state.serverURL+"/post_deck",S={deck_id:m.deck_id,deck:m,title:m.title,edited:m.edited},t.commit("updateLastSyncsData",i),j.next=81,regeneratorRuntime.awrap(fetch(x,{headers:{"Content-Type":"application/json","x-access-token":t.state.jwt},body:JSON.stringify(S),method:"POST"}).then((function(t){return t.json()})).then((function(){})).catch((function(){t.commit("toggleFailedSync",!0)})));case 81:f=!0,j.next=38;break;case 84:j.next=90;break;case 86:j.prev=86,j.t2=j["catch"](36),p=!0,g=j.t2;case 90:j.prev=90,j.prev=91,f||null==h.return||h.return();case 93:if(j.prev=93,!p){j.next=96;break}throw g;case 96:return j.finish(93);case 97:return j.finish(90);case 98:t.commit("toggleSyncing",!1);case 99:case"end":return j.stop()}}),null,null,[[17,21,25,33],[26,,28,32],[36,86,90,98],[44,62,66,74],[67,,69,73],[91,,93,97]])}},getters:{isAuthenticated:function(t){return t.jwtValid},getDecks:function(t){return t.decks},navProgressCounter:function(t){return t.navProgressCounter}},plugins:[vt.plugin,kt.plugin]}),yt=wt;function _t(t,e,n){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(yt.dispatch("checkJwt"));case 2:yt.getters.isAuthenticated?n():"/login"!==this.$router.path&&n("/login");case 3:case"end":return t.stop()}}),null,this)}r["default"].use(i["a"]);var Dt=new i["a"]({mode:"history",routes:[{path:"/",redirect:{name:"login"}},{path:"/login",name:"login",component:h},{path:"/home",name:"home",component:T,beforeEnter:_t},{path:"/deck-selection",name:"deck-selection",component:V,beforeEnter:_t},{path:"/quiz-options",name:"quiz-options",component:R,beforeEnter:_t},{path:"/deck-editor",name:"deck-editor",component:Q,beforeEnter:_t},{path:"/settings",name:"settings",component:rt,beforeEnter:_t},{path:"/card-editor",name:"card-editor",component:gt,beforeEnter:_t}]}),Ct=n("5f5b"),Ot=(n("f9e3"),n("2dd8"),n("ecee")),xt=n("c074"),St=n("ad3d"),jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar",{attrs:{id:"navbar"}}),n("router-view")],1)},Tt=[],Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"body"}},[r("b-navbar",{attrs:{toggleable:"xs",type:"dark",variant:"primary"}},[r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-link",{attrs:{to:"#"}},[r("font-awesome-icon",{staticStyle:{color:"white"},attrs:{icon:"search"}})],1),r("b-nav-text",{staticStyle:{color:"white"},attrs:{id:"session-counter"}},[t._v(t._s(t.navProgressCounter))]),r("b-link",{attrs:{disabled:t.navNewCardDisabled},on:{click:function(e){return t.newCard()}}},[r("img",{attrs:{src:n("6200"),alt:"add"}})]),r("b-link",{staticClass:"icon",on:{click:function(e){return t.callSync()}}},[r("font-awesome-icon",{staticStyle:{color:"white"},attrs:{icon:"cloud"}})],1),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/home"}},[t._v("Review")]),r("b-nav-item",{attrs:{to:"/Settings"}},[t._v("Settings")]),r("b-nav-item",{attrs:{to:"/deck-selection"}},[t._v("Decks")]),r("b-nav-item",{attrs:{to:"#",disabled:""}},[t._v("Lessons")]),r("b-nav-item",{attrs:{to:"#",disabled:""}},[t._v("Classes")]),r("b-nav-form",[r("b-form-input",{staticClass:"mr-sm-1",attrs:{size:"sm",placeholder:"find decks and classes"}}),r("b-button",{attrs:{size:"sm",type:"submit"}},[t._v("Search")])],1)],1)],1)],1)],1)},$t=[];n("b0c0");function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Mt=n("c64e"),At={name:"navbar",data:function(){return{}},computed:Nt({navProgressCounter:function(){return this.$store.getters.navProgressCounter}},Object(s["b"])({currentDeck:"currentDeck",navNewCardDisabled:"navNewCardDisabled"})),methods:{newCard:function(){this.$store.dispatch("navNewCardClicked");var t={back_text:"",card_id:Mt(),card_tags:["Daily Review"],front_text:""};this.currentDeck.cards.push(t),this.$store.commit("updateCardToEditIndex",this.currentDeck.cards.length-1),"card-editor"!==this.$route.name&&this.$router.push("/card-editor")},callSync:function(){this.$store.dispatch("sync")}}},It=At,Vt=Object(p["a"])(It,Pt,$t,!1,null,"33980df8",null),zt=Vt.exports;function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Lt={name:"App",data:function(){return{}},mounted:function(){this.redirectIfAuth()},computed:Jt({},Object(s["b"])({decks:"decks",syncing:"syncing"})),watch:{decks:{handler:function(){this.sync()},deep:!0},syncing:function(){!1===this.syncing&&this.sync()}},methods:{sync:ot.a.debounce((function(){this.$store.dispatch("sync")}),6e4),redirectIfAuth:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$store.dispatch("checkJwt"));case 2:this.$store.getters.isAuthenticated&&this.$router.push("/home");case 3:case"end":return t.stop()}}),null,this)}},components:{Navbar:zt}},Ut=Lt,Rt=(n("5c0b"),Object(p["a"])(Ut,jt,Tt,!1,null,null,null)),Bt=Rt.exports;Ot["c"].add(xt["d"],xt["e"],xt["i"],xt["h"],xt["c"],xt["m"],xt["l"],xt["f"],xt["b"],xt["a"],xt["k"],xt["j"],xt["g"]),r["default"].component("font-awesome-icon",St["a"]),r["default"].use(Ct["a"]),r["default"].config.productionTip=!1,new r["default"]({router:Dt,store:yt,render:function(t){return t(Bt)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),i=n.n(r);i.a},6200:function(t,e,n){t.exports=n.p+"img/add card logo.50e189ef.svg"},6605:function(t,e,n){},7635:function(t,e,n){"use strict";var r=n("6605"),i=n.n(r);i.a},"9c0c":function(t,e,n){},a3f0:function(t,e,n){},dc95:function(t,e,n){},ed1a:function(t,e,n){"use strict";var r=n("a3f0"),i=n.n(r);i.a},f116:function(t,e,n){},fce9:function(t,e,n){"use strict";var r=n("210d"),i=n.n(r);i.a}});
//# sourceMappingURL=app.56ca4e69.js.map