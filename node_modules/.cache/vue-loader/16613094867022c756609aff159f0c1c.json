{"remainingRequest":"/Users/chenlu/Documents/GitHub/Inter-Planetary-Flash-Cards/ipfc_webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenlu/Documents/GitHub/Inter-Planetary-Flash-Cards/ipfc_webapp/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenlu/Documents/GitHub/Inter-Planetary-Flash-Cards/ipfc_webapp/src/views/Login.vue","mtime":1575389963195},{"path":"/Users/chenlu/Documents/GitHub/Inter-Planetary-Flash-Cards/ipfc_webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenlu/Documents/GitHub/Inter-Planetary-Flash-Cards/ipfc_webapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenlu/Documents/GitHub/Inter-Planetary-Flash-Cards/ipfc_webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenlu/Documents/GitHub/Inter-Planetary-Flash-Cards/ipfc_webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlucHV0OiB7CiAgICAgICAgICAgICAgICBlbWFpbDogJycsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICAgICAgICBwaW5hdGFBcGk6ICcnLAogICAgICAgICAgICAgICAgcGluYXRhU2VjcmV0OiAnJywKICAgICAgICAgICAgICAgIHNpZ25pbmdVcDogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBpRXJyb3JNc2c6ICcnLAogICAgICAgICAgICBmYWlsZWRMb2dpbjogZmFsc2UsCiAgICAgICAgICAgIGRpc21pc3NTZWNzOiA1LAogICAgICAgICAgICBkaXNtaXNzQ291bnREb3duOiAwLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHNpZ25pbmdVcCAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0LnNpZ25pbmdVcAogICAgICAgIH0sCiAgICAgICAgZW1haWxWYWxpZGF0aW9uICgpIHsKICAgICAgICAgICAgbGV0IGVtYWlsID0gdGhpcy5pbnB1dC5lbWFpbAogICAgICAgICAgICBpZiAoZW1haWwubGVuZ3RoIDwgNCB8fCBlbWFpbC5sZW5ndGggPiAyNSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFlbWFpbC5pbmNsdWRlcygnQCcpIHx8ICFlbWFpbC5pbmNsdWRlcygnLicpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIGVtYWlsVmFsaWRhdGlvbkVycm9yTXNnICgpIHsKICAgICAgICAgICAgbGV0IGVtYWlsID0gdGhpcy5pbnB1dC5lbWFpbAogICAgICAgICAgICBpZiAoZW1haWwubGVuZ3RoIDwgNCB8fCBlbWFpbC5sZW5ndGggPiAyNSkgewogICAgICAgICAgICAgICAgcmV0dXJuICJFbWFpbCBtdXN0IGJlIDUtMjUgY2hhcmFjdGVycyBsb25nIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghZW1haWwuaW5jbHVkZXMoJ0AnKSB8fCAhZW1haWwuaW5jbHVkZXMoJy4nKSkgewogICAgICAgICAgICAgICAgcmV0dXJuICJJbnZhbGlkIGVtYWlsIgogICAgICAgICAgICB9CiAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsCiAgICAgICAgICAgIH0gICAgCiAgICAgICAgfSwKICAgICAgICBwYXNzd29yZFZhbGlkYXRpb24gKCkgewogICAgICAgICAgICBsZXQgcGFzc3dvcmQgPSB0aGlzLmlucHV0LnBhc3N3b3JkCiAgICAgICAgICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCA4IHx8IHBhc3N3b3JkLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIHBhc3N3b3JkVmFsaWRhdGlvbkVycm9yTXNnICgpIHsKICAgICAgICAgICAgbGV0IHBhc3N3b3JkID0gdGhpcy5pbnB1dC5wYXNzd29yZAogICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCB8fCBwYXNzd29yZC5sZW5ndGggPiAyMCkgewogICAgICAgICAgICAgICAgcmV0dXJuICJQYXNzd29yZCBtdXN0IGJlIDgtMjAgY2hhcmFjdGVycyBsb25nIgogICAgICAgICAgICB9CiAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsCiAgICAgICAgICAgIH0gICAgCiAgICAgICAgfSwKICAgICAgICBwaW5hdGFBcGlWYWxpZGF0aW9uICgpIHsKICAgICAgICAgICAgbGV0IHBpbmF0YUFwaSA9IHRoaXMuaW5wdXQucGluYXRhQXBpCiAgICAgICAgICAgIGlmIChwaW5hdGFBcGkubGVuZ3RoIDwgMjAgfHwgcGluYXRhQXBpLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIHBpbmF0YUFwaVZhbGlkYXRpb25FcnJvck1zZyAoKSB7CiAgICAgICAgICAgIGxldCBwaW5hdGFBcGkgPSB0aGlzLmlucHV0LnBpbmF0YUFwaQogICAgICAgICAgICBpZiAocGluYXRhQXBpLmxlbmd0aCA8IDIwIHx8IHBpbmF0YUFwaS5sZW5ndGggPiAyMCkgewogICAgICAgICAgICAgICAgcmV0dXJuICJJbnZhbGlkIHBpbmF0YSBhcGkga2V5LiBJbiBwaW5hdGEsIGNsaWNrIHRoZSBwcm9maWxlIGljb24sIHRoZW4gJ2FjY291bnQnIgogICAgICAgICAgICB9CiAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsCiAgICAgICAgICAgIH0gICAgCiAgICAgICAgfSwKICAgICAgICBwaW5hdGFTZWNyZXRWYWxpZGF0aW9uICgpIHsKICAgICAgICAgICAgbGV0IHBpbmF0YVNlY3JldCA9IHRoaXMuaW5wdXQucGluYXRhU2VjcmV0CiAgICAgICAgICAgIGlmIChwaW5hdGFTZWNyZXQubGVuZ3RoIDwgNjQgfHwgcGluYXRhU2VjcmV0LnBhc3N3b3JkID4gNjQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgfSAgICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgcGluYXRhU2VjcmV0VmFsaWRhdGlvbkVycm9yTXNnICgpIHsKICAgICAgICAgICAgbGV0IHBpbmF0YVNlY3JldCA9IHRoaXMuaW5wdXQucGluYXRhU2VjcmV0CiAgICAgICAgICAgIGlmIChwaW5hdGFTZWNyZXQubGVuZ3RoIDwgNjQgfHwgcGluYXRhU2VjcmV0Lmxlbmd0aCA+IDY0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIkludmFsaWQgcGluYXRhIGFwaSBzZWNyZXQga2V5LiBJbiBwaW5hdGEsIGNsaWNrIHRoZSBwcm9maWxlIGljb24sIHRoZW4gJ2FjY291bnQnIgogICAgICAgICAgICB9CiAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGludmFsaWRTaWduVXAgKCkgewogICAgICAgICAgIGlmICghdGhpcy5lbWFpbFZhbGlkYXRpb24gfHwgIXRoaXMucGFzc3dvcmRWYWxpZGF0aW9uIHx8ICF0aGlzLnBpbmF0YUFwaVZhbGlkYXRpb24gfHwgIXRoaXMucGluYXRhU2VjcmV0VmFsaWRhdGlvbikgewogICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaW52YWxpZExvZ2luICgpIHsKICAgICAgICAgICBpZiAoIXRoaXMuZW1haWxWYWxpZGF0aW9uIHx8ICF0aGlzLnBhc3N3b3JkVmFsaWRhdGlvbikgewogICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIGZhaWxlZExvZ2luOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZhaWxlZExvZ2luID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dBbGVydCgpCiAgICAgICAgICAgIH0gICAKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGxvZ2luICgpIHsKICAgICAgICAgICAgdGhpcy5mYWlsZWRMb2dpbiA9IGZhbHNlCiAgICAgICAgICAgIGxldCBsb2dpblVSTCA9ICJodHRwczovL2lwZmMtbWlkd2FyZS5oZXJva3VhcHAuY29tL2xvZ2luIjsKICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOwogICAgICAgICAgICBsZXQgdXNlcm5hbWUgPSB0aGlzLmlucHV0LmVtYWlsOwogICAgICAgICAgICBsZXQgcGFzc3dvcmQgPSB0aGlzLmlucHV0LnBhc3N3b3JkOwogICAgICAgICAgICBoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAiOiIgKyBwYXNzd29yZCkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgZmV0Y2gobG9naW5VUkwsIHsgaGVhZGVyczogaGVhZGVycyB9KQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGFbJ3Rva2VuJ10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWlsZWRMb2dpbiA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGlFcnJvck1zZyA9IGRhdGFbJ2Vycm9yJ10KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlSnd0JywgZGF0YVsndG9rZW4nXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGVja0p3dCcpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlVXNlckNvbGxlY3Rpb24nLCBkYXRhWyd1c2VyX2NvbGxlY3Rpb24nXSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVEZWNrc01ldGEnLCBkYXRhWydkZWNrc19tZXRhJ10pCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdkZWNrLXNlbGVjdGlvbicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJucyBhbiBlcnJvcgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhaWxlZExvZ2luID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaUVycm9yTXNnID0gJ1NlcnZlciBlcnJvcicKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIFNpZ25VcCAoKSB7CiAgICAgICAgICAgIHRoaXMuZmFpbGVkTG9naW4gPSBmYWxzZQogICAgICAgICAgICBsZXQgc2lnbnVwVVJMID0gImh0dHBzOi8vaXBmYy1taWR3YXJlLmhlcm9rdWFwcC5jb20vc2lnbl91cCI7CiAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgJ2VtYWlsJzogdGhpcy5pbnB1dC5lbWFpbCwKICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHRoaXMuaW5wdXQucGFzc3dvcmQsCiAgICAgICAgICAgICAgICAncGluYXRhX2FwaSc6IHRoaXMuaW5wdXQucGluYXRhQXBpLAogICAgICAgICAgICAgICAgJ3BpbmF0YV9rZXknOiB0aGlzLmlucHV0LnBpbmF0YVNlY3JldAogICAgICAgICAgICB9CiAgICAgICAgICAgIGZldGNoKHNpZ251cFVSTCwgeyAKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhWydtZXNzYWdlICAnXSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhaWxlZExvZ2luID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaUVycm9yTXNnID0gZGF0YVsnZXJyb3InXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dpbiAoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWlsZWRMb2dpbiA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGlFcnJvck1zZyA9ICdTZXJ2ZXIgZXJyb3InCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHRvZ2dsZVNpZ25pbmdVcCAoKSB7CiAgICAgICAgICAgIHRoaXMuaW5wdXQuc2lnbmluZ1VwID0gIXRoaXMuaW5wdXQuc2lnbmluZ1VwCiAgICAgICAgfSwKICAgICAgICBjaGFuZ2VFcnJvck1zZyAobXNnKSB7CiAgICAgICAgICAgIHRoaXMuZW1haWxWYWxpZGF0aW9uRXJyb3JNc2cgPSBtc2cKICAgICAgICB9LAogICAgICAgIE9wZW5QaW5hdGEgKCkgewogICAgICAgICAgICB3aW5kb3cub3BlbigiaHR0cHM6Ly9waW5hdGEuY2xvdWQvc2lnbnVwIiwgIl9ibGFuayIpCiAgICAgICAgfSwKICAgICAgICBjb3VudERvd25DaGFuZ2VkKGRpc21pc3NDb3VudERvd24pIHsKICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSBkaXNtaXNzQ291bnREb3duCiAgICAgICAgfSwKICAgICAgICBzaG93QWxlcnQoKSB7CiAgICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gdGhpcy5kaXNtaXNzU2VjcwogICAgICAgIH0KICAgIH0KfQoK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["\n<template>\n<div id=\"body\">\n    <b-alert\n      :show=\"dismissCountDown\"\n      dismissible\n      fade\n      variant=\"warning\"\n      @dismiss-count-down=\"countDownChanged\"\n    >\n    {{ apiErrorMsg }}\n    </b-alert>\n    <h1>IPFC Login</h1>\n    <b-form @submit.stop.prevent id=\"form-signin\">\n        <label for=\"feedback-email\">Email</label>\n        <b-input v-model=\"input.email\" :state=\"emailValidation\" id=\"feedback-email\"></b-input>\n        <b-form-invalid-feedback v-if=\"input.email\" :state=\"emailValidation\">{{ emailValidationErrorMsg }}</b-form-invalid-feedback>\n        <!-- <b-form-valid-feedback :state=\"emailValidation\">Looks Good.</b-form-valid-feedback> -->\n        \n        <label for=\"feedback-password\">Password</label>\n        <b-input v-model=\"input.password\" :state=\"passwordValidation\" type=\"password\" id=\"feedback-password\"></b-input>\n        <b-form-invalid-feedback v-if=\"input.password\" :state=\"passwordValidation\">{{ passwordValidationErrorMsg }}</b-form-invalid-feedback>\n        <!-- <b-form-valid-feedback :state=\"passwordValidation\">Looks Good.</b-form-valid-feedback> -->\n        \n        <b-button v-if=\"signingUp\" id=\"button-get-pinata\" type=\"submit\" @click=\"OpenPinata()\" variant=\"warning\">Get Pinata</b-button>\n        <br>\n        \n        <label v-if=\"signingUp\" for=\"feedback-pinata-api\">Pinata API key</label>\n        <b-input v-if=\"signingUp\" v-model=\"input.pinataApi\" :state=\"pinataApiValidation\" id=\"feedback-pinata-api\"></b-input>\n        <b-form-invalid-feedback v-if=\"signingUp\" :state=\"pinataApiValidation\">{{ pinataApiValidationErrorMsg }}</b-form-invalid-feedback>\n        <!-- <b-form-valid-feedback v-if=\"signingUp\" :state=\"pinataApiValidation\">Looks Good.</b-form-valid-feedback> -->\n       \n        <label v-if=\"signingUp\" for=\"feedback-pinata-secret\">Pinata secret API key</label>\n        <b-input v-if=\"signingUp\" v-model=\"input.pinataSecret\" :state=\"pinataSecretValidation\" type=\"password\" id=\"feedback-pinata-secret\"></b-input>\n        <b-form-invalid-feedback v-if=\"signingUp\" :state=\"pinataSecretValidation\">{{ pinataSecretValidationErrorMsg }}</b-form-invalid-feedback>\n        <!-- <b-form-valid-feedback v-if=\"signingUp\" :state=\"pinataSecretValidation\">Looks Good.</b-form-valid-feedback> -->\n        \n        <div id=\"login-signup-buttons\">\n        <span>\n            <b-button v-if=\"signingUp\" :disabled=\"invalidSignUp\" type=\"submit\" @click=\"SignUp()\" variant=\"warning\">Sign up</b-button>\n            <b-button v-else :disabled=\"invalidLogin\" type=\"submit\" @click=\"login()\" variant=\"warning\">Log in</b-button>\n            \n            <a v-if=\"signingUp\" type=\"submit\" id=\"sign-up-a\" @click=\"toggleSigningUp()\" variant=\"warning\">Returning user? Log in now!</a>\n            <a v-else type=\"submit\" id=\"sign-up-a\" @click=\"toggleSigningUp()\" variant=\"warning\">New account? Sign up now!</a>\n        </span>\n        </div>\n    </b-form>\n</div>\n</template>\n<script>\nexport default {\n    name: 'Login',\n    data() {\n        return {\n            input: {\n                email: '',\n                password: '',\n                pinataApi: '',\n                pinataSecret: '',\n                signingUp: false\n            },\n            apiErrorMsg: '',\n            failedLogin: false,\n            dismissSecs: 5,\n            dismissCountDown: 0,\n        }\n    },\n    computed: {\n        signingUp () {\n            return this.input.signingUp\n        },\n        emailValidation () {\n            let email = this.input.email\n            if (email.length < 4 || email.length > 25) {\n                return false\n            }\n            if (!email.includes('@') || !email.includes('.')) {\n                return false\n            }\n            else {\n                return true\n            }            \n        },\n        emailValidationErrorMsg () {\n            let email = this.input.email\n            if (email.length < 4 || email.length > 25) {\n                return \"Email must be 5-25 characters long\"\n            }\n            if (!email.includes('@') || !email.includes('.')) {\n                return \"Invalid email\"\n            }\n             else {\n                return null\n            }    \n        },\n        passwordValidation () {\n            let password = this.input.password\n            if (password.length < 8 || password.length > 20) {\n                return false\n            }\n            else {\n                return true\n            }            \n        },\n        passwordValidationErrorMsg () {\n            let password = this.input.password\n            if (password.length < 8 || password.length > 20) {\n                return \"Password must be 8-20 characters long\"\n            }\n             else {\n                return null\n            }    \n        },\n        pinataApiValidation () {\n            let pinataApi = this.input.pinataApi\n            if (pinataApi.length < 20 || pinataApi.length > 20) {\n                return false\n            }\n            else {\n                return true\n            }            \n        },\n        pinataApiValidationErrorMsg () {\n            let pinataApi = this.input.pinataApi\n            if (pinataApi.length < 20 || pinataApi.length > 20) {\n                return \"Invalid pinata api key. In pinata, click the profile icon, then 'account'\"\n            }\n             else {\n                return null\n            }    \n        },\n        pinataSecretValidation () {\n            let pinataSecret = this.input.pinataSecret\n            if (pinataSecret.length < 64 || pinataSecret.password > 64) {\n                return false\n            }\n            else {\n                return true\n            }            \n        },\n        pinataSecretValidationErrorMsg () {\n            let pinataSecret = this.input.pinataSecret\n            if (pinataSecret.length < 64 || pinataSecret.length > 64) {\n                return \"Invalid pinata api secret key. In pinata, click the profile icon, then 'account'\"\n            }\n             else {\n                return null\n            }\n        },\n        invalidSignUp () {\n           if (!this.emailValidation || !this.passwordValidation || !this.pinataApiValidation || !this.pinataSecretValidation) {\n               return true\n           }else {\n               return false\n           }\n        },\n        invalidLogin () {\n           if (!this.emailValidation || !this.passwordValidation) {\n               return true\n           }else {\n               return false\n           }\n        }\n    },\n    watch: {\n        failedLogin: function () {\n            if (this.failedLogin === true) {\n                this.showAlert()\n            }   \n        }\n    },\n    methods: {\n        login () {\n            this.failedLogin = false\n            let loginURL = \"https://ipfc-midware.herokuapp.com/login\";\n            let headers = new Headers();\n            let username = this.input.email;\n            let password = this.input.password;\n            headers.append('Content-Type', 'application/json');\n            headers.append('Authorization', 'Basic ' + btoa(username + \":\" + password));                            \n            fetch(loginURL, { headers: headers })\n                .then(response => response.json())\n                .then((data) => {\n                    console.log(data);\n                    if (!data['token']) {\n                        this.failedLogin = true\n                        this.apiErrorMsg = data['error']\n                    }\n                    else {\n                        this.$store.commit('updateJwt', data['token']);\n                        this.$store.dispatch('checkJwt')\n                        this.$store.commit('updateUserCollection', data['user_collection'])\n                        this.$store.commit('updateDecksMeta', data['decks_meta'])\n                        this.$router.push('deck-selection');\n                    }\n                    })\n                    .catch(function(error) {\n                        console.log(error);\n                        // this returns an error\n                        this.failedLogin = true\n                        this.apiErrorMsg = 'Server error'\n                    });\n                    \n        },\n        SignUp () {\n            this.failedLogin = false\n            let signupURL = \"https://ipfc-midware.herokuapp.com/sign_up\";\n            let data = {\n                'email': this.input.email,\n                'password': this.input.password,\n                'pinata_api': this.input.pinataApi,\n                'pinata_key': this.input.pinataSecret\n            }\n            fetch(signupURL, { \n                headers: { 'Content-Type': 'application/json'},\n                body: JSON.stringify(data),\n                method: 'POST',\n                })\n                .then(response => response.json())\n                .then((data) => {\n                    console.log(data);\n                    if (!data['message  ']) {\n                        this.failedLogin = true\n                        this.apiErrorMsg = data['error']\n                    }\n                    else {\n                        this.login ();\n                    }\n                    }).catch(function(error) {\n                        this.failedLogin = true\n                        this.apiErrorMsg = 'Server error'\n                        console.log(error);\n                    });\n        },\n        toggleSigningUp () {\n            this.input.signingUp = !this.input.signingUp\n        },\n        changeErrorMsg (msg) {\n            this.emailValidationErrorMsg = msg\n        },\n        OpenPinata () {\n            window.open(\"https://pinata.cloud/signup\", \"_blank\")\n        },\n        countDownChanged(dismissCountDown) {\n        this.dismissCountDown = dismissCountDown\n        },\n        showAlert() {\n        this.dismissCountDown = this.dismissSecs\n        }\n    }\n}\n\n</script>\n\n<style scoped>\n#body {\n    padding: 20px;\n}\n#form-signin {\n    max-width: 330px;\n}\n#sign-up-a {\n    margin: 10px;\n}\n#login-signup-buttons{\n    margin-top: 10px;\n}\n#button-get-pinata {\n    margin-top: 10px;\n}\nlabel {\n    margin-top: 5px;\n}\n</style>    "]}]}